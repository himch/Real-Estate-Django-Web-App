"use strict";document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);function s(){return{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.08}}}function u(){return{duration:1.5,y:"0%",ease:"power3.out",stagger:{amount:.2}}}function S(e,t,r){e=e.querySelector(t);e&&e.classList.remove(r)}[".rent__title",".catalogs__item-subtitle",".catalogs__item-title",".rent__item-top",".main__item-title",".main__item-subtitle",".section__title",".estate__item-title",".type__subtitle",".principle__item-title",".principle__item-desc",".addit__item-title",".addit__el-title",".addit__el-subtitle",".appartments .why__desc",".dadi__subtitle",".dadi__item-title",".dadi__item-desc",".why__tab-title",".why__tab-subtitle",".why__desc",".why__end"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{Splitting({target:e,by:"lines"})})}),window.addEventListener("load",()=>{[".main",".section__title",".estate__item-title",".service__item",".type__item",".principle__img",".get__item",".criterion__item",".help__item",".rent",".type__subtitle",".buy-form__item",".catalog-cons__item",".catalogs__item",".articles__item",".principle__item",".telegram__img",".addit__item",".buy__item",".dadi__row",".main__cards",".why__tab-title",".why__tab-subtitle",".why__content-tab",".why__content-image",".why__desc",".why__end",".swiper",".team__img",".rent__item-block",".rent-single__projects",".help_second .get__item-text"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{new IntersectionObserver((e,c)=>{e.forEach(e=>{var t,r,a,o,l,n,i;e.isIntersecting&&((e=e.target).classList.contains("main")&&(o=e.querySelector(".main__item-title"),n=e.querySelector(".main__item-subtitle"),gsap.to(o,s()),gsap.to(o.querySelectorAll(".word"),u()),gsap.to(n,s(),"+0.6"),gsap.to(n.querySelectorAll(".word"),u(),"+0.6")),e.classList.contains("main__cards")&&(o=e.querySelectorAll(".main__cards .main__card"),gsap.to(o,{yPercent:0,y:"0%",delay:.2,autoAlpha:1,duration:1.7,ease:"power3.out",stagger:{amount:.2}})),e.classList.contains("catalogs__item")&&(n=e.querySelector(".catalogs__item-title"),o=e.querySelector(".catalogs__item-subtitle"),a=e.querySelector(".catalogs__item-img"),gsap.to(o,s()),gsap.to(o.querySelectorAll(".word"),u()),gsap.to(n,{xPercent:0,yPercent:0,y:"0%",x:"0%",delay:.5,autoAlpha:1,duration:1.7,ease:"power3.out",stagger:{amount:.08}}),gsap.to(n.querySelectorAll(".word"),{duration:1.5,y:"0%",ease:"power3.out",delay:.5,stagger:{amount:.2}}),gsap.to(a,{yPercent:0,y:"0%",delay:.9,autoAlpha:1,duration:1.7,ease:"power3.out"})),e.classList.contains("dadi__row")&&(o=e.querySelector(".dadi__title"),n=e.querySelector(".dadi__subtitle"),a=e.querySelector(".dadi__img-left"),l=e.querySelector(".dadi__img-right"),i=e.querySelectorAll(".dadi__item-title"),t=e.querySelectorAll(".dadi__item-desc"),r=e.querySelectorAll(".dadi__item-link"),gsap.to(a,s()),gsap.to(l,s()),gsap.to(o,s()),gsap.to(n,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.7,delay:.3,ease:"power3.out",stagger:{amount:.08}}),gsap.to(n.querySelectorAll(".word"),{duration:1.7,y:"0%",ease:"power3.out",delay:.3,stagger:{amount:.2}}),gsap.to(i,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.7,delay:.5,ease:"power3.out",stagger:{amount:.08}}),i.forEach(e=>{gsap.to(e.querySelectorAll(".word"),{duration:1.5,y:"0%",ease:"power3.out",delay:.6,stagger:{amount:.2}})}),gsap.to(t,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,delay:.7,ease:"power3.out",stagger:{amount:.08}}),t.forEach(e=>{gsap.to(e.querySelectorAll(".word"),{duration:1.7,y:"0%",ease:"power3.out",delay:.8,stagger:{amount:.2}})}),gsap.to(r,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,delay:.9,ease:"power3.out",stagger:{amount:.08}})),e.classList.contains("addit__item")&&(a=e.querySelector(".addit__item-title"),l=e.querySelectorAll(".addit__el-title"),o=e.querySelectorAll(".addit__el-img"),n=e.querySelectorAll(".addit__el-subtitle"),gsap.to(a,s()),gsap.to(a.querySelectorAll(".word"),u()),gsap.to(o,{x:"0%",delay:.5,autoAlpha:1,duration:1.6,ease:"power3.out"}),gsap.to(l,{xPercent:0,yPercent:0,y:"0%",x:"0%",delay:.7,autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.08}}),l.forEach(e=>{gsap.to(e.querySelectorAll(".word"),{duration:1.5,y:"0%",ease:"power3.out",delay:.5,stagger:{amount:.5}})}),gsap.to(n,{xPercent:0,yPercent:0,y:"0%",x:"0%",delay:.7,autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.08}}),n.forEach(e=>{gsap.to(e.querySelectorAll(".word"),{duration:1.5,y:"0%",ease:"power3.out",delay:.5,stagger:{amount:.5}})})),e.classList.contains("principle__item")&&(i=e.querySelector(".principle__item-title"),t=e.querySelector(".principle__item-desc"),gsap.to(i,s()),gsap.to(i.querySelectorAll(".word"),u()),gsap.to(t,s()),gsap.to(t.querySelectorAll(".word"),u())),e.classList.contains("rent")&&(r=e.querySelector(".rent__title"),a=e.querySelector(".rent__item-top"),gsap.to(r,s()),gsap.to(r.querySelectorAll(".word"),u()),gsap.to(a,s(),"+0.6"),gsap.to(a.querySelectorAll(".word"),u(),"+0.6")),e.classList.contains("section__title")&&(gsap.to(e,s(),"+0.6"),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("type__subtitle")&&(gsap.to(e,s(),"+0.6"),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("estate__item-title")&&(gsap.to(e,s()),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("service__item")&&gsap.to(e,s()),e.classList.contains("type__item")&&gsap.to(e,s()),e.classList.contains("principle__img")&&gsap.to(e,s()),e.classList.contains("get__item")&&gsap.to(e,s()),e.classList.contains("criterion__item")&&gsap.to(e,s()),e.classList.contains("help__item")&&gsap.to(e,s()),e.classList.contains("get__item-text")&&e.closest(".help_second")&&gsap.to(e,s()),e.classList.contains("buy-form__item")&&gsap.to(e,s()),e.classList.contains("team__img")&&gsap.to(e,s()),e.classList.contains("catalog-cons__item")&&gsap.to(e,s()),e.classList.contains("rent__item-block")&&gsap.to(e,s()),e.classList.contains("telegram__img")&&gsap.to(e,s()),e.classList.contains("rent-single__projects")&&(o=e.querySelectorAll(".p-card"))[0]&&gsap.to(o,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.3}}),e.classList.contains("swiper")&&!e.closest(".estate")&&((l=e.querySelectorAll(".p-card"))[0]&&gsap.to(l,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.3}}),(n=e.querySelectorAll(".best__item"))[0]&&gsap.to(n,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.3}}),(i=e.querySelectorAll(".blog__item"))[0])&&gsap.to(i,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,ease:"power3.out",stagger:{amount:.3}}),e.classList.contains("why__tab-title")&&(gsap.to(e,s()),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("why__desc")&&(gsap.to(e,s()),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("why__tab-subtitle")&&(gsap.to(e,s()),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("why__end")&&(gsap.to(e,s()),gsap.to(e.querySelectorAll(".word"),u())),e.classList.contains("why__content-tab")&&gsap.to(e,s()),e.classList.contains("why__content-image")&&e.querySelectorAll("picture").forEach(e=>{e.querySelector("img.active")&&gsap.to(e,s())}),e.classList.contains("articles__item")&&gsap.to(e,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,delay:.2,ease:"power3.out",stagger:{amount:.2}}),e.classList.contains("articles__item")&&gsap.to(e,{xPercent:0,yPercent:0,y:"0%",x:"0%",autoAlpha:1,duration:1.5,delay:.2,ease:"power3.out",stagger:{amount:.2}}),c.unobserve(e))})},{threshold:.3}).observe(e)})})});const i=document.querySelectorAll(".p-lang");i[0]&&i.forEach(t=>{t.querySelector(".p-lang__current").addEventListener("click",()=>{t.classList.toggle("active");var e=document.querySelectorAll(".p-select");e[0]&&e.forEach(e=>{e.classList.remove("active")})})});var e=document.querySelectorAll(".p-select"),e=(e[0]&&e.forEach(o=>{var e=o.querySelector(".p-select__current");const r=e.querySelector(".p-select__current-item"),t=o.querySelector(".p-select__abs"),a=e.querySelector("input");var l=t.querySelectorAll(".p-select__abs-item");e.addEventListener("click",()=>{o.classList.toggle("active"),i[0]&&i.forEach(e=>{e.classList.remove("active")})}),l.forEach(e=>{e.addEventListener("click",()=>{S(t,".p-select__abs-item.active","active"),a.value=e.dataset.value,r.textContent=e.dataset.value,o.classList.remove("active"),e.classList.add("active")})});const n=o.querySelectorAll(".p-checkboxes .p-checkboxes__item");if(n[0]){let a=[];n.forEach((e,t)=>{e.querySelector("input").checked&&a.push(t)}),n.forEach((e,t)=>{e.addEventListener("change",()=>{e.querySelector("input").checked?a.push(t):a=a.filter(e=>e!==t),r.textContent=function(){let r="";return a.forEach((e,t)=>{a.length!==t+1?r+=n[e].querySelector(".p-checkboxes__item-title").textContent+", ":r+=n[e].querySelector(".p-checkboxes__item-title").textContent}),r=a.length?r:o.dataset.textDefault}()})})}}),document.querySelectorAll(".blog")),e=(e[0]&&e.forEach(e=>{var t=e.querySelector(".swiper");new Swiper(t,{slidesPerView:"auto",navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0},breakpoints:{320:{spaceBetween:19},769:{spaceBetween:68}}})}),document.querySelectorAll(".why")),e=(e[0]&&e.forEach(r=>{var e=r.querySelectorAll(".why__tabs .why__tab");const a=r.querySelectorAll(".why__contents .why__content"),o=r.querySelectorAll(".why__blocks .why__block");e.forEach((e,t)=>{e.addEventListener("click",()=>{S(r,".why__tabs .why__tab.active","active"),S(r,".why__contents .why__content.active","active"),S(r,".why__blocks .why__block.active","active"),e.classList.add("active"),a[t].classList.add("active"),o[t].classList.add("active")})}),a.forEach(o=>{var e=o.querySelectorAll(".why__content-tabs .why__content-tab");const l=o.querySelectorAll(".why__content-image img");e.forEach((r,a)=>{var e;r.classList.contains("active")&&((e=r.querySelector(".why__content-text")).style.height=e.scrollHeight+"px"),r.addEventListener("click",()=>{var e=".why__content-tabs .why__content-tab.active",t=o.querySelector(e+" .why__content-text"),t=(t&&(t.style.height=""),S(o,e,"active"),S(o,".why__content-image img.active","active"),r.classList.add("active"),r.querySelector(".why__content-text"));t.style.height=t.scrollHeight+"px",l[a].classList.add("active"),gsap.to(l[a].closest("picture"),s())})})}),o.forEach(o=>{o.querySelectorAll(".why__block-item").forEach(r=>{const a=r.querySelector(".why__content-tab");var e;a&&a.classList.contains("active")&&((e=a.querySelector(".why__content-text")).style.height=e.scrollHeight+"px"),a&&a.addEventListener("click",()=>{var e=".why__block-item .why__content-tab.active",t=o.querySelector(e+" .why__content-text"),t=(t&&(t.style.height=""),S(o,e,"active"),S(o,".why__block-item.active","active"),a.classList.add("active"),a.querySelector(".why__content-text"));t.style.height=t.scrollHeight+"px",r.classList.add("active")})})})}),document.querySelectorAll(".estate__swiper")),e=(e[0]&&e.forEach(e=>{var t=e.querySelector(".swiper");t.classList.contains(".p-card__swiper")||new Swiper(t,{slidesPerView:"auto",navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0},breakpoints:{320:{spaceBetween:10},769:{spaceBetween:18}}})}),document.querySelectorAll(".estate")),e=(e[0]&&e.forEach(r=>{var e=r.querySelectorAll(".estate_fav__tabs .estate_fav__tab");if(e[0]){const a=r.querySelectorAll(".estate_fav__items .estate_fav__item");e.forEach((e,t)=>{e.addEventListener("click",()=>{S(r,".estate_fav__tabs .estate_fav__tab.active","active"),S(r,".estate_fav__items .estate_fav__item.active","active"),e.classList.add("active"),a[t].classList.add("active")})})}}),document.querySelectorAll(".buy")),e=(e[0]&&e.forEach(t=>{var r=t.querySelector(".buy__row");const e=r.offsetWidth;e,window.innerWidth;t=gsap.utils.toArray(t.querySelectorAll(".buy__item"));if(1160<=window.innerWidth)gsap.to(t,{x:-e,ease:"none",scrollTrigger:{trigger:r,start:"center center",pin:!0,scrub:1,end:()=>"+="+e,invalidateOnRefresh:!0}});else{let e=t[0].scrollWidth*(t.length-1);gsap.to(t,{x:-e,ease:"none",scrollTrigger:{trigger:r,start:"center center",pin:!0,scrub:1,end:()=>"+="+e,invalidateOnRefresh:!0}})}}),document.querySelectorAll(".filters")),e=(e[0]&&e.forEach(e=>{const t=e.querySelector(".filters__coub"),r=e.querySelector(".filters__map"),a=e.querySelector(".filters__content"),o=e.querySelector(".filters__content-map");t&&t.addEventListener("click",()=>{t.classList.add("active"),a.classList.add("active"),o.classList.remove("active"),r.classList.remove("active"),ScrollTrigger.refresh()}),r&&r.addEventListener("click",()=>{t.classList.remove("active"),a.classList.remove("active"),o.classList.add("active"),r.classList.add("active"),ScrollTrigger.refresh()})}),document.querySelectorAll(".reviews__swiper"));e[0]&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:3,spaceBetween:40,pagination:{clickable:!0,el:e.querySelector(".swiper-pagination")},mousewheel:{forceToAxis:!0}})});const r=(e,t)=>e.length>t?e.slice(0,t).trim()+"...":e;e=document.querySelectorAll(".articles__item"),e[0]&&e.forEach(e=>{var e=e.querySelector(".articles__item-title"),t=e.textContent;e.setAttribute("title",t),e.textContent=r(t,30)}),e=document.querySelectorAll(".article-items__item"),e[0]&&e.forEach(e=>{var e=e.querySelector(".articles__item-title"),t=e.textContent;e.setAttribute("title",t),e.textContent=r(t,30)}),e=document.querySelectorAll(".article-items"),e[0]&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",mousewheel:{forceToAxis:!0},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},breakpoints:{320:{spaceBetween:12},768:{spaceBetween:41}}})}),e=document.querySelectorAll(".best__swiper"),e[0]&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0},breakpoints:{320:{spaceBetween:47},768:{spaceBetween:61}}})}),e=document.querySelectorAll(".p-card_filter"),e[0]&&e.forEach(e=>{var t=e.querySelector(".swiper");new Swiper(t,{slidesPerView:"auto",pagination:{clickable:!0,el:e.querySelector(".swiper-pagination")},mousewheel:{forceToAxis:!0}})}),e=document.querySelectorAll(".p-card_second");function q(e,t){return(t=t||["товар","товара","товаров"])&&t[4<e%100&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}e[0]&&e.forEach(e=>{var t;e.closest(".estate_main")||(t=e.querySelector(".p-card__swiper"),new Swiper(t,{slidesPerView:"auto",allowTouchMove:!1,pagination:{clickable:!0,el:e.querySelector(".p-card__swiper-pagination")},mousewheel:{forceToAxis:!0}}))});let l={},f="ru";const w={year:"numeric",month:"long",day:"numeric"};function b(e){var e=e.querySelector(".rent-single__right"),t=e.querySelector(".rent-single__subitem"),r=e.querySelector('input[name="monthly"]'),a=e.querySelector('input[name="monthly_count"]'),o=e.querySelector('input[name="daily"]'),l=e.querySelector('input[name="currency"]'),n=e.querySelector('input[name="days"]'),i=e.querySelector('input[name="cleaning_cost"]'),c=e.querySelector('input[name="concierge_service"]'),s=e.querySelector('input[name="number_of_cleanings"]'),u=e.querySelector('input[name="quest"]'),r=r.value,a=a.value,o=o.value,l=l.value,n=n.value,i=i.value,c=c.value,s=s.value,u=(u.value,t.querySelector(".rent-single__price").querySelector("ins")),t=(t=l,u.querySelector(".rent-single__price-currency").textContent=t,u.querySelector(".rent-single__price-new").textContent=o,e.querySelector(".rent-single__end_price")),u=e.querySelector(".rent-single__end_cleanup"),e=e.querySelector(".rent-single__end_total"),_=JSON.parse(t.dataset.string),d=t.querySelector(".rent-single__end-price"),p=t.querySelector(".rent-single__end-span"),t=t.querySelector(".rent-single__end-subprice"),u=u.querySelector(".rent-single__end-subprice"),e=e.querySelector(".rent-single__end-subprice"),r=Math.round(r*a+i*s+2*c);d.textContent=o+" "+l,p.textContent="x "+n+" "+q(n,_),t.textContent=o*n+" "+l,u.textContent=i+" "+l,e.textContent=r+" "+l}document.documentElement.classList.contains("p-lang_en")?(l={},f="en"):document.documentElement.classList.contains("p-lang_arabic")?(l={firstDayOfWeek:1,weekdays:{shorthand:["الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس","الجمعة","السبت"],longhand:["الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس","الجمعة","السبت"]},months:{shorthand:["يناير","شهر فبراير","يمشي","أبريل","يمكن","يونيو","يوليو","أغسطس","سبتمبر","اكتوبر","شهر نوفمبر","ديسمبر"],longhand:["يناير","شهر فبراير","يمشي","أبريل","يمكن","يونيو","يوليو","أغسطس","سبتمبر","اكتوبر","شهر نوفمبر","ديسمبر"]}},f="ar"):l={firstDayOfWeek:1,weekdays:{shorthand:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},months:{shorthand:["Янв","Фев","Март","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],longhand:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]}};e=document.querySelectorAll(".rent-single"),e[0]&&e.forEach(y=>{const m=y.querySelector(".rent-single__right-date_start");var t=moment(new Date);if(m){const g=y.querySelector(".rent-single__right-date_end"),v=y.querySelector(".rent-single__col-date_start"),h=y.querySelector(".rent-single__col-date_end");var r=y.querySelector(".rent-single__right-input input");flatpickr(r,{minDate:"today",mode:"range",inline:!0,dateFormat:"d.m.Y",locale:l,onChange:function(e,t,r){var a=y.querySelector('input[name="days"]'),o=y.querySelector('input[name="monthly_count"]'),l=y.querySelector('input[name="date_start"]'),n=y.querySelector('input[name="date_end"]');let i="",c="",s="",u="";if(e[0]&&(m.textContent=e[0].toLocaleDateString(f,w),v.textContent=e[0].toLocaleDateString(f),i=moment(e[0]),c=i.daysInMonth(),a.value=c,s=moment(new Date(i.valueOf()+60*c*60*24*1e3)),l.value=e[0].toLocaleDateString()),(u=e[1]&&e[0]?moment(e[1]):u).valueOf())if(s.valueOf()>u.valueOf())r.setDate([i.toDate(),s.toDate()]),g.textContent=s.toDate().toLocaleDateString(f,w),h.textContent=s.toDate().toLocaleDateString(f),n.value=s.toDate().toLocaleDateString();else{for(var l=i,_=u,d=[],p=(_.subtract(1,"month"),moment(l));p<_;)p.add(1,"month"),d.push(p.format("YYYY-MM-DD"));let t=0;d.forEach(e=>{e=moment(e).daysInMonth();t+=e}),t+=c,a.value=t,o.value=d.length+1;e=moment(new Date(i.valueOf()+60*t*60*24*1e3));r.setDate([i.toDate(),e.toDate()]),g.textContent=e.toDate().toLocaleDateString(f,w),h.textContent=e.toDate().toLocaleDateString(f),n.value=e.toDate().toLocaleDateString()}b(y)}});y.querySelector('.rent-single__right input[name="days"]').value=t.daysInMonth(),b(y)}const e=y.querySelector(".rent-single__mb-show");if(e){const o=y.querySelector(".rent-single__images");e.addEventListener("click",()=>{o.classList.contains("active")?(o.style.height="",e.textContent=e.dataset.textHide):(o.style.height=o.scrollHeight+"px",e.textContent=e.dataset.textDefault),o.classList.toggle("active")})}var r=y.querySelector(".rent-single__date"),r=(r&&(t=r.querySelector(".rent-single__date-input"),flatpickr(t,{minDate:"today",mode:"range",inline:!0,dateFormat:"d.m.Y",locale:l,onChange:function(e,t,r){var a=y.querySelector(".rent-single__mb"),o=a.querySelector(".rent-single__mb-date"),l=a.querySelector('input[name="days"]'),n=a.querySelector('input[name="date_start"]'),i=a.querySelector('input[name="date_end"]'),a=a.querySelector('input[name="monthly_count"]');let c="",s="",u="",_="";var d={month:"short",day:"numeric"};if(e[0]&&(o.textContent=e[0].toLocaleDateString(f,d),c=moment(e[0]),s=c.daysInMonth(),l.value=s,u=moment(new Date(c.valueOf()+60*s*60*24*1e3)),n.value=e[0].toLocaleDateString()),(_=e[1]&&e[0]?moment(e[1]):_).valueOf())if(u.valueOf()>_.valueOf())r.setDate([c.toDate(),u.toDate()]),o.textContent=e[0].toLocaleDateString(f,d)+" - "+u.toDate().toLocaleDateString(f,d),i.value=u.toDate().toLocaleDateString();else{for(var n=c,p=_,m=[],g=(p.subtract(1,"month"),moment(n));g<p;)g.add(1,"month"),m.push(g.format("YYYY-MM-DD"));let t=0;m.forEach(e=>{e=moment(e).daysInMonth();t+=e}),t+=s,l.value=t,a.value=m.length+1;n=moment(new Date(c.valueOf()+60*t*60*24*1e3));r.setDate([c.toDate(),n.toDate()]),o.textContent=e[0].toLocaleDateString(f,d)+" - "+n.toDate().toLocaleDateString(f,d),i.value=n.toDate().toLocaleDateString()}b(y)}})),y.querySelectorAll(".rent-single__select")),t=(r[0]&&r.forEach(t=>{t.querySelector(".rent-single__select-current").addEventListener("click",e=>{c(e),t.classList.toggle("active")}),t.querySelector(".rent-single__select-close").addEventListener("click",e=>{c(e),t.classList.remove("active")})}),y.querySelectorAll(".rent-single__quantity")),r=(t[0]&&t.forEach(e=>{const t=y.querySelector('input[name="quest"]');var r=e.querySelector(".rent-single__quantity-minus"),a=e.querySelector(".rent-single__quantity-plus");const o=e.querySelector(".rent-single__quantity-input input"),l=e.closest(".rent-single__select").querySelector(".rent-single__select-title"),n=JSON.parse(e.dataset.texts);function i(e){l.textContent=e+" "+q(e,n)}r.addEventListener("click",e=>{c(e);e=parseInt(o.value);e<=1?o.value=1:(e--,o.value=e),i(o.value),t.value=o.value}),a.addEventListener("click",e=>{c(e);e=parseInt(o.value);e++,o.value=e,i(o.value),t.value=o.value})}),y.querySelectorAll(".rent-single__rules")),t=(r[0]&&r.forEach(r=>{var e=r.querySelectorAll(".rent-single__rules-tab");const a=r.querySelectorAll(".rent-single__rules-content");e.forEach((e,t)=>{e.addEventListener("click",()=>{S(r,".rent-single__rules-tab.active","active"),S(r,".rent-single__rules-content.active","active"),e.classList.add("active"),a[t].classList.add("active")})})}),y.querySelector(".rent-single__floor")),r=(t&&(r=t.querySelector(".swiper"),new Swiper(r,{slidesPerView:"auto",spaceBetween:18,navigation:{nextEl:t.querySelector(".swiper-button-next"),prevEl:t.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0}})),y.querySelector(".rent-single__subitem"));if(r){var t=r.closest(".rent-single__row"),a=y.querySelector(".rent-single__right-item");let e=t.offsetHeight-r.offsetHeight-parseInt(window.getComputedStyle(r).top);a&&(e=e-a.offsetHeight-parseInt(window.getComputedStyle(a).marginBottom)),ScrollTrigger.create({trigger:r,start:"top top",end:`+=${e}px`,pin:!0})}t=y.querySelectorAll(".rent-single__tabs");t[0]&&t.forEach(d=>{var e=d.querySelectorAll(".rent-single__tab-tops_price .rent-single__tab-top"),t=d.querySelectorAll(".rent-single__tab-tops_second .rent-single__tab-top");const p=d.querySelectorAll(".rent-single__day"),m=y.querySelector(".rent-single__right-item");e.forEach((u,_)=>{u.addEventListener("click",()=>{var e,t,r,a,o,l,n,i,c,s;S(d,".rent-single__tab-tops_price .rent-single__tab-top.active","active"),S(d,".rent-single__day.active","active"),u.classList.add("active"),p[_].classList.add("active"),m&&(m.querySelector(".rent-single__right-input input")._flatpickr,a=u.dataset.priceMonthly,t=u.dataset.priceDaily,l=u.dataset.cleaningCost,i=u.dataset.conciergeService,s=u.textContent,r=(n=y.querySelector(".rent-single__right")).querySelector('input[name="monthly"]'),c=n.querySelector('input[name="daily"]'),e=n.querySelector('input[name="cleaning_cost"]'),o=n.querySelector('input[name="concierge_service"]'),n=n.querySelector('input[name="currency"]'),c.value=t,r.value=a,e.value=l,o.value=i,n.value=s,r=(c=y.querySelector(".rent-single__mb")).querySelector('input[name="monthly"]'),e=c.querySelector('input[name="daily"]'),o=c.querySelector('input[name="cleaning_cost"]'),n=c.querySelector('input[name="concierge_service"]'),c=c.querySelector('input[name="currency"]'),e.value=t,r.value=a,o.value=l,n.value=i,c.value=s,b(y),t=(e=(e=y).querySelector(".rent-single__mb")).querySelector('input[name="monthly"]'),r=e.querySelector('input[name="monthly_count"]'),a=e.querySelector('input[name="daily"]'),o=e.querySelector('input[name="currency"]'),l=e.querySelector('input[name="days"]'),n=e.querySelector('input[name="cleaning_cost"]'),i=e.querySelector('input[name="concierge_service"]'),c=e.querySelector('input[name="number_of_cleanings"]'),s=e.querySelector('input[name="quest"]'),t.value,r.value,t=a.value,r=o.value,l.value,n.value,i.value,c.value,s.value,e.querySelector(".rent-single__mb-pric span").textContent=t+r)})}),t[0]&&t.forEach((e,r)=>{e.addEventListener("click",()=>{S(d,".rent-single__tab-tops_second .rent-single__tab-top.active","active"),e.classList.add("active"),p.forEach(e=>{var t=e.querySelectorAll(".rent-single__day-seconds .rent-single__day-second");S(e,".rent-single__day-second.active","active"),t[r].classList.add("active")})})})})}),e=document.querySelectorAll(".buy-advs");e[0]&&e.forEach(e=>{var t=e.querySelector(".buy-advs__circle");ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",pin:t,pinSpacing:!1})});({el:document.querySelector(".btn-up"),show(){this.el.classList.remove("btn-up_hide")},hide(){this.el.classList.add("btn-up_hide")},addEventListener(){window.addEventListener("scroll",()=>{400<(window.scrollY||document.documentElement.scrollTop)?this.show():this.hide()}),document.querySelector(".btn-up").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();e=document.querySelectorAll(".p-wrapper"),e[0]&&e.forEach(e=>{var a=e,o=e.querySelector(".p-wrapper__inner"),l=e.querySelector(".scrollbar"),e=(o.addEventListener("scroll",function(e){l.style.height=a.clientHeight*o.clientHeight/o.scrollHeight-125+"px",l.style.top=a.clientHeight*o.scrollTop/o.scrollHeight+"px"}),new Event("scroll"));window.addEventListener("resize",o.dispatchEvent.bind(o,e)),o.dispatchEvent(e),l.addEventListener("mousedown",function(t){t.preventDefault();function e(e){e=e.pageY-t.pageY,l.style.top=Math.min(a.clientHeight-l.clientHeight,Math.max(0,r+e))+"px",o.scrollTop=o.scrollHeight*l.offsetTop/a.clientHeight}var r=l.offsetTop;document.addEventListener("mousemove",e),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",e)})})}),e=document.querySelectorAll(".rent"),e[0]&&e.forEach(e=>{e.querySelectorAll(".rent__input_date").forEach(e=>{var t=e.querySelector("input");if(t){const r=flatpickr(t,{minDate:"today",dateFormat:"d.m.Y",locale:l,onChange:function(e,t,r){r=r.element;"start"===r.getAttribute("name")&&r.closest(".rent__form").querySelector('input[name="end"]')._flatpickr.set("minDate",t)},disableMobile:!0});e.querySelector(".rent__input-svg").addEventListener("click",()=>{r.toggle()})}})}),e=document.querySelectorAll(".modal_form"),e[0]&&e.forEach(r=>{const a=r.querySelectorAll(".modal_register__changes .modal_register__change"),o=r.querySelectorAll(".modal_register__inputs .modal_register__inputs-item"),t=(a.forEach((e,t)=>{e.addEventListener("click",()=>{S(r,".modal_register__changes .modal_register__change.active","active"),S(r,".modal_register__inputs .modal_register__inputs-item.active","active"),(0===t?(a[1].classList.add("active"),o[1]):(a[0].classList.add("active"),o[0])).classList.add("active")})}),r.querySelectorAll(".modal_conf__items .modal_conf__item")),l=r.querySelector(".modal_conf__end-link");t[0]&&l.addEventListener("click",()=>{var e=l.dataset.index;S(r,".modal_conf__items .modal_conf__item.active","active"),"2"===e?(t[0].classList.add("active"),l.dataset.index=1):(t[1].classList.add("active"),l.dataset.index=2)})}),e=document.querySelector(".cabinet"),e&&((t=e.querySelectorAll(".cabinet__change-label_date"))[0]&&t.forEach(e=>{e=e.querySelector("input");flatpickr(e,{dateFormat:"d.m.Y",locale:l})}),e.querySelector(".cabinet__card"))&&(t=e.querySelector('.cabinet__card-second input[name="term"]'),flatpickr(t,{dateFormat:"m/y",locale:l})),e=document.querySelectorAll(".modal_filter__range");if(e[0]){let s,u=[];e.forEach((e,t)=>{const a=e.querySelector(".modal_filter__range-main");var c,r=parseFloat(e.dataset.min),o=parseFloat(e.dataset.max),l=e.closest(".modal_filter__price-item").querySelectorAll(".p-checkboxes__item");l[t]&&(l={name:l[t].querySelector("input").value,min:r,max:o},u.push(l));let n=e.dataset.string;n?(n=JSON.parse(n),t=e.dataset.start,l=e.dataset.end,noUiSlider.create(a,{start:[t,l],range:{min:0,max:n.length-1},step:1,tooltips:!0,format:{to:function(e){return n[Math.round(e)]},from:function(e){return n.indexOf(e)}}})):(t=e.dataset.type,l=e.querySelector('input[name*="min"]'),e=e.querySelector('input[name*="max"]'),c=[l,e],t&&"int"===t?noUiSlider.create(a,{start:[l.value||r,e.value||o],step:1,range:{min:r,max:o},tooltips:{to:function(e){return e.toFixed(0)}}}):noUiSlider.create(a,{start:[l.value||r,e.value||o],range:{min:r,max:o},tooltips:!0}),a.noUiSlider.on("update",function(e,t){c[t].value=e[t]}),a.noUiSlider.on("slide",function(o,l){c[l].value=o[l];var e=a.closest(".modal_filter__range-content"),t=e.closest(".modal_filter__price-item"),r=t.querySelectorAll(".modal_filter__range-contents .modal_filter__range-content");const n=t.querySelectorAll(".modal_filter__price-top .p-checkboxes__item"),i=(s=[...r].indexOf(e),u[s]);r.forEach((e,t)=>{if(t!==s){e=e.querySelector(".modal_filter__range-main");const a=n[t].querySelector("input");var r,t=i.coefs.filter(e=>e.name===a.value);l?(r=o[l]*t[0].coef,e.noUiSlider.set([null,r])):(r=o[l]*t[0].coef,e.noUiSlider.set([r,null]))}})}))}),u.forEach((r,e)=>{let a=[];u.forEach((e,t)=>{r!==e&&(e={name:e.name,coef:e.max/r.max},a.push(e))}),r.coefs=a})}var t=document.querySelectorAll(".modal_filter__item"),e=(t[0]&&t.forEach(e=>{var t=e.querySelector(".modal_filter__marks");if(t){var r=t.querySelector(".modal_filter__mark-item_add"),t=t.querySelector(".modal_filter__mark-item_del");const a=e.querySelectorAll("label input");r.addEventListener("click",()=>{a.forEach(e=>{e.checked=!0})}),t.addEventListener("click",()=>{a.forEach(e=>{e.checked=!1})})}}),document.querySelectorAll(".modal_filter__item_change")),t=(e[0]&&e.forEach(r=>{var e=r.querySelectorAll(".p-checkboxes__item");const a=r.querySelectorAll(".modal_filter__range-content");e[0]&&e.forEach((e,t)=>{e.addEventListener("click",()=>{S(r,".modal_filter__range-content.active","active"),a[t].classList.add("active")})})}),document.querySelectorAll(".modal_filter__price-item_area")),e=(t[0]&&t.forEach(r=>{var e=r.querySelectorAll(".p-checkboxes__item");const a=r.querySelectorAll(".modal_filter__area-item");e[0]&&e.forEach((e,t)=>{e.addEventListener("click",()=>{S(r,".modal_filter__area-item.active","active"),a[t].classList.add("active")})})}),document.querySelector(".modal_filter")),t=(e&&e.closest("form").querySelector(".modal_filter__reset").addEventListener("click",()=>{var e=window.location;window.location.href=e.protocol+"//"+e.host+e.pathname}),document.querySelectorAll(".team")),e=(t[0]&&t.forEach(e=>{var r=e.querySelector(".team__text-items");let a=e.querySelector(".team__text-line .team__text-line-circle");var o=r.querySelectorAll(".team__text-item");if(1160<=window.innerWidth){let t=gsap.timeline({scrollTrigger:{trigger:e,start:"center center",pin:!0,scrub:1,end:"+=100%",ease:"power2",toggleActions:"play none none reverse",onUpdate:e=>{gsap.to(a,{top:100*e.progress.toFixed(2)+"%"})}}});o.forEach(e=>{t.fromTo(e,{opacity:0},{opacity:1})})}else{let t=gsap.timeline({scrollTrigger:{trigger:r.closest(".team__right"),start:"center center",pin:!0,scrub:1,end:"+="+r.clientHeight+"px",ease:"power2",toggleActions:"play none none reverse",onUpdate:e=>{gsap.to(a,{top:100*e.progress.toFixed(2)+"%"})}}});o.forEach(e=>{t.fromTo(e,{opacity:0},{opacity:1})})}}),document.querySelectorAll(".advs"));function a(s,e){s=gsap.utils.toArray(s);let t=(e=e||{}).onChange,r=0,u=gsap.timeline({repeat:e.repeat,onUpdate:t&&function(){var e=u.closestIndex();r!==e&&(r=e,t(s[e],e))},paused:e.paused,defaults:{ease:"none"},onReverseComplete:()=>u.totalTime(u.rawTime()+100*u.duration())}),l=s.length,n=s[0].offsetLeft,_=[],i=[],c=[],d=[],o=0,p=!1,a=e.center,m=100*(e.speed||1),g=!1===e.snap?e=>e:gsap.utils.snap(e.snap||1),y=0,v=!0!==a&&gsap.utils.toArray(a)[0]||s[0].parentNode,h,S=()=>{let r=v.getBoundingClientRect(),a;s.forEach((e,t)=>{i[t]=parseFloat(gsap.getProperty(e,"width","px")),d[t]=g(parseFloat(gsap.getProperty(e,"x","px"))/i[t]*100+gsap.getProperty(e,"xPercent")),a=e.getBoundingClientRect(),c[t]=a.left-(t?r.right:r.left),r=a}),gsap.set(s,{xPercent:e=>d[e]}),h=s[l-1].offsetLeft+d[l-1]/100*i[l-1]-n+c[0]+s[l-1].offsetWidth*gsap.getProperty(s[l-1],"scaleX")+(parseFloat(e.paddingRight)||0)},q,f=()=>{y=a?u.duration()*(v.offsetWidth/2)/h:0,a&&_.forEach((e,t)=>{_[t]=q(u.labels["label"+t]+u.duration()*i[t]/2/h-y)})},w=(e,t,r)=>{let a=e.length,o=1e10,l=0,n;for(;a--;)(n=(n=Math.abs(e[a]-t))>r/2?r-n:n)<o&&(o=n,l=a);return l},b=()=>{let e,t,r,a,o;for(u.clear(),e=0;e<l;e++)t=s[e],r=d[e]/100*i[e],o=(a=t.offsetLeft+r-n+c[0])+i[e]*gsap.getProperty(t,"scaleX"),u.to(t,{xPercent:g((r-o)/i[e]*100),duration:o/m},0).fromTo(t,{xPercent:g((r-o+h)/i[e]*100)},{xPercent:d[e],duration:(r-o+h-r)/m,immediateRender:!1},o/m).add("label"+e,a/m),_[e]=a/m;q=gsap.utils.wrap(0,u.duration())},L=e=>{var t=u.progress();u.progress(0,!0),S(),e&&b(),f(),e&&u.draggable?u.time(_[o],!0):u.progress(t,!0)},x;function E(e,t){t=t||{},Math.abs(e-o)>l/2&&(e+=e>o?-l:l);let r=gsap.utils.wrap(0,l,e),a=_[r];return a>u.time()!=e>o&&e!==o&&(a+=u.duration()*(e>o?1:-1)),(a<0||a>u.duration())&&(t.modifiers={time:q}),o=r,t.overwrite=!0,gsap.killTweensOf(x),0===t.duration?u.time(q(a)):u.tweenTo(a,t)}if(gsap.set(s,{x:0}),S(),b(),f(),window.addEventListener("resize",()=>L(!0)),u.toIndex=(e,t)=>E(e,t),u.closestIndex=e=>{var t=w(_,u.time(),u.duration());return e&&(o=t,p=!1),t},u.current=()=>p?u.closestIndex(!0):o,u.next=e=>E(u.current()+1,e),u.previous=e=>E(u.current()-1,e),u.times=_,u.progress(1,!0).progress(0,!0),e.reversed&&(u.vars.onReverseComplete(),u.reverse()),e.draggable&&"function"==typeof Draggable){x=document.createElement("div");let e=gsap.utils.wrap(0,1),l,n,t,i,c,r,a=()=>u.progress(e(n+(t.startX-t.x)*l)),o=()=>u.closestIndex(!0);"undefined"==typeof InertiaPlugin&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),t=Draggable.create(x,{trigger:s[0].parentNode,type:"x",onPressInit(){var e=this.x;gsap.killTweensOf(u),r=!u.paused(),u.pause(),n=u.progress(),L(),l=1/h,c=n/-l-e,gsap.set(x,{x:n/-l})},onDrag:a,onThrowUpdate:a,overshootTolerance:0,inertia:!0,snap(e){if(Math.abs(n/-l-this.x)<10)return i+c;let t=-(e*l)*u.duration(),r=q(t),a=_[w(_,r,u.duration())],o=a-r;return Math.abs(o)>u.duration()/2&&(o+=o<0?u.duration():-u.duration()),i=(t+o)/u.duration()/-l},onRelease(){o(),t.isThrowing&&(p=!0)},onThrowComplete:()=>{o(),r&&u.play()}})[0],u.draggable=t}return u.closestIndex(!0),r=o,t&&t(s[o],o),u}e[0]&&e.forEach(e=>{e=e.querySelector(".advs__items").querySelectorAll(".advs__item");let r=gsap.utils.toArray(e);r.forEach((e,t)=>{t!==r.length-1&&ScrollTrigger.create({trigger:e,start:()=>e.offsetHeight<window.innerHeight?"top top":"bottom bottom",end:"+="+e.offsetHeight,pin:!0,pinSpacing:!1})})});t=document.querySelectorAll(".appartments"),t[0]&&t.forEach(e=>{a(e.querySelectorAll(".appartments__item"),{repeat:-1,paused:!1,speed:1.5})}),e=document.querySelectorAll(".devs"),e[0]&&e.forEach(e=>{e.querySelectorAll(".devs__item").forEach(e=>{e.classList.contains("devs__item_reverse")?a(e.querySelectorAll("picture"),{repeat:-1,paused:!1,speed:1.2,reversed:!0}):a(e.querySelectorAll("picture"),{repeat:-1,paused:!1,speed:1.2})})}),t=document.querySelectorAll(".compar");function c(e){e.preventDefault(),e.stopPropagation()}function o(e){e.classList.remove("active")}t[0]&&t.forEach(e=>{let r=!1,a,o,l,n;const i=e.querySelector(".compar__row");i.addEventListener("mousedown",e=>{r=!0,a=e.pageX-i.offsetLeft,o=e.pageY-i.offsetTop,l=i.scrollLeft,n=i.scrollTop,i.style.cursor="grabbing"}),i.addEventListener("mouseleave",()=>{r=!1,i.style.cursor="grab"}),i.addEventListener("mouseup",()=>{r=!1,i.style.cursor="grab"}),document.addEventListener("mousemove",e=>{var t;r&&(e.preventDefault(),t=e.pageX-i.offsetLeft,e=e.pageY-i.offsetTop,t=t-a,e=e-o,i.scrollLeft=l-t,i.scrollTop=n-e)});e=e.querySelectorAll(".compar__item");e[0]&&e.forEach(e=>{e.querySelectorAll(".compar__subitem").forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:40,pagination:{clickable:!0,el:e.querySelector(".swiper-pagination")},mousewheel:{forceToAxis:!0}})})})});new class{constructor(){this.allModals(),this.allModalShows()}allModals(){document.querySelectorAll(".modal").forEach(t=>{function r(){var e;o(t),document.body.style.overflow="",e=new CustomEvent("pModalClose",{detail:{modal:t}}),document.dispatchEvent(e)}var e=t.querySelector(".modal__close"),e=(e&&e.addEventListener("click",()=>{r()}),t.querySelector(".modal__back"));e&&e.addEventListener("click",()=>{r()}),t.addEventListener("click",e=>{e.target==t&&r()})})}allModalShows(){document.querySelectorAll(".modal__show").forEach(t=>{t.addEventListener("click",e=>{c(e);e=t.getAttribute("data-modal"),e=document.querySelector(".modal_"+e),e.classList.add("active"),document.body.style.overflow="hidden",e=new CustomEvent("pModalOpen",{detail:{modal:e,element:t}});document.dispatchEvent(e)})})}},document.addEventListener("pModalOpen",e=>{var e=e.detail,t=e.element,e=e.modal;lazyContent.update(),lazyBackground.update(),e.classList.contains("modal_like_2")&&o(t.closest(".modal"))})});