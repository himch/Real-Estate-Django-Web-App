"use strict";document.addEventListener("DOMContentLoaded",()=>{function d(e,t,r){e=e.querySelector(t);e&&e.classList.remove(r)}gsap.registerPlugin(ScrollTrigger),window.addEventListener("load",()=>{var e=document.querySelectorAll(".p-animate");e[0]&&e.forEach(e=>{e.classList.contains("p-animate__splitt")&&Splitting({target:e,by:"chars"});new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("active")})},{threshold:.1}).observe(e)})});var e=document.querySelectorAll(".p-lang"),e=(e[0]&&e.forEach(e=>{e.querySelector(".p-lang__current").addEventListener("click",()=>{e.classList.toggle("active")})}),document.querySelectorAll(".p-select")),e=(e[0]&&e.forEach(n=>{var e=n.querySelector(".p-select__current");const r=e.querySelector(".p-select__current-item"),t=n.querySelector(".p-select__abs"),a=e.querySelector("input");var o=t.querySelectorAll(".p-select__abs-item");e.addEventListener("click",()=>{n.classList.toggle("active")}),o.forEach(e=>{e.addEventListener("click",()=>{d(t,".p-select__abs-item.active","active"),a.value=e.dataset.value,r.textContent=e.dataset.value,n.classList.remove("active"),e.classList.add("active")})});const l=n.querySelectorAll(".p-checkboxes .p-checkboxes__item");if(l[0]){let a=[];l.forEach((e,t)=>{e.querySelector("input").checked&&a.push(t)}),l.forEach((e,t)=>{e.addEventListener("change",()=>{e.querySelector("input").checked?a.push(t):a=a.filter(e=>e!==t),r.textContent=function(){let r="";return a.forEach((e,t)=>{a.length!==t+1?r+=l[e].querySelector(".p-checkboxes__item-title").textContent+", ":r+=l[e].querySelector(".p-checkboxes__item-title").textContent}),r=a.length?r:n.dataset.textDefault}()})})}}),document.querySelectorAll(".why")),e=(e[0]&&e.forEach(r=>{var e=r.querySelectorAll(".why__tabs .why__tab");const a=r.querySelectorAll(".why__contents .why__content"),n=r.querySelectorAll(".why__blocks .why__block");e.forEach((e,t)=>{e.addEventListener("click",()=>{d(r,".why__tabs .why__tab.active","active"),d(r,".why__contents .why__content.active","active"),d(r,".why__blocks .why__block.active","active"),e.classList.add("active"),a[t].classList.add("active"),n[t].classList.add("active")})}),a.forEach(n=>{var e=n.querySelectorAll(".why__content-tabs .why__content-tab");const o=n.querySelectorAll(".why__content-image img");e.forEach((r,a)=>{var e;r.classList.contains("active")&&((e=r.querySelector(".why__content-text")).style.height=e.scrollHeight+"px"),r.addEventListener("click",()=>{var e=".why__content-tabs .why__content-tab.active",t=n.querySelector(e+" .why__content-text"),t=(t&&(t.style.height=""),d(n,e,"active"),d(n,".why__content-image img.active","active"),r.classList.add("active"),r.querySelector(".why__content-text"));t.style.height=t.scrollHeight+"px",o[a].classList.add("active")})})}),n.forEach(n=>{n.querySelectorAll(".why__block-item").forEach(r=>{const a=r.querySelector(".why__content-tab");var e;a&&a.classList.contains("active")&&((e=a.querySelector(".why__content-text")).style.height=e.scrollHeight+"px"),a&&a.addEventListener("click",()=>{var e=".why__block-item .why__content-tab.active",t=n.querySelector(e+" .why__content-text"),t=(t&&(t.style.height=""),d(n,e,"active"),d(n,".why__block-item.active","active"),a.classList.add("active"),a.querySelector(".why__content-text"));t.style.height=t.scrollHeight+"px",r.classList.add("active")})})})}),document.querySelectorAll(".estate__swiper")),e=(e[0]&&e.forEach(e=>{var t=e.querySelector(".swiper");t.classList.contains(".p-card__swiper")||new Swiper(t,{slidesPerView:"auto",navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0},breakpoints:{320:{spaceBetween:10},769:{spaceBetween:18}}})}),document.querySelectorAll(".estate")),e=(e[0]&&e.forEach(r=>{var e=r.querySelectorAll(".estate_fav__tabs .estate_fav__tab");if(e[0]){const a=r.querySelectorAll(".estate_fav__items .estate_fav__item");e.forEach((e,t)=>{e.addEventListener("click",()=>{d(r,".estate_fav__tabs .estate_fav__tab.active","active"),d(r,".estate_fav__items .estate_fav__item.active","active"),e.classList.add("active"),a[t].classList.add("active")})})}}),document.querySelectorAll(".buy")),e=(e[0]&&e.forEach(t=>{var r=t.querySelector(".buy__row");const e=r.offsetWidth;e,window.innerWidth;t=gsap.utils.toArray(t.querySelectorAll(".buy__item"));if(1160<=window.innerWidth)gsap.to(t,{x:-e,ease:"none",scrollTrigger:{trigger:r,start:"center center",pin:!0,scrub:1,end:()=>"+="+e,invalidateOnRefresh:!0}});else{let e=t[0].scrollWidth*(t.length-1);gsap.to(t,{x:-e,ease:"none",scrollTrigger:{trigger:r,start:"center center",pin:!0,scrub:1,end:()=>"+="+e,invalidateOnRefresh:!0}})}}),document.querySelectorAll(".filters")),e=(e[0]&&e.forEach(e=>{const t=e.querySelector(".filters__coub"),r=e.querySelector(".filters__map"),a=e.querySelector(".filters__content"),n=e.querySelector(".filters__content-map");t&&t.addEventListener("click",()=>{t.classList.add("active"),a.classList.add("active"),n.classList.remove("active"),r.classList.remove("active"),ScrollTrigger.refresh()}),r&&r.addEventListener("click",()=>{t.classList.remove("active"),a.classList.remove("active"),n.classList.add("active"),r.classList.add("active"),ScrollTrigger.refresh()})}),document.querySelectorAll(".reviews__swiper")),e=(e[0]&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:3,spaceBetween:40,pagination:{clickable:!0,el:e.querySelector(".swiper-pagination")},mousewheel:{forceToAxis:!0}})}),document.querySelectorAll(".article-items")),e=(e[0]&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",mousewheel:{forceToAxis:!0},breakpoints:{320:{spaceBetween:12},768:{spaceBetween:41}}})}),document.querySelectorAll(".best__swiper")),e=(e[0]&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0},breakpoints:{320:{spaceBetween:47},768:{spaceBetween:61}}})}),document.querySelectorAll(".p-card_filter")),e=(e[0]&&e.forEach(e=>{var t=e.querySelector(".swiper");new Swiper(t,{slidesPerView:"auto",pagination:{clickable:!0,el:e.querySelector(".swiper-pagination")},mousewheel:{forceToAxis:!0}})}),document.querySelectorAll(".p-card_second"));e[0]&&e.forEach(e=>{var t=e.querySelector(".p-card__swiper");new Swiper(t,{slidesPerView:"auto",allowTouchMove:!1,pagination:{clickable:!0,el:e.querySelector(".p-card__swiper-pagination")},mousewheel:{forceToAxis:!0}})});let u={},_="ru";const p={year:"numeric",month:"long",day:"numeric"};function g(e){var e=e.querySelector(".rent-single__subitem"),t=e.dataset.base,r=e.dataset.currency,a=e.dataset.days,e=e.querySelector(".rent-single__price"),n=e.querySelector("del"),e=e.querySelector("ins");function o(e,t){return parseInt(e)*parseInt(t)}function l(e,t){e.querySelector(".rent-single__price-currency").textContent=t}l(n,r),l(e,r),n.querySelector(".rent-single__price-old").textContent=o(t,a),e.querySelector(".rent-single__price-new").textContent=o(t,a)}document.documentElement.classList.contains("p-lang_en")?(u={},_="en"):document.documentElement.classList.contains("p-lang_arabic")?(u={firstDayOfWeek:1,weekdays:{shorthand:["الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس","الجمعة","السبت"],longhand:["الاحد","الاثنين","الثلاثاء","الاربعاء","الخميس","الجمعة","السبت"]},months:{shorthand:["يناير","شهر فبراير","يمشي","أبريل","يمكن","يونيو","يوليو","أغسطس","سبتمبر","اكتوبر","شهر نوفمبر","ديسمبر"],longhand:["يناير","شهر فبراير","يمشي","أبريل","يمكن","يونيو","يوليو","أغسطس","سبتمبر","اكتوبر","شهر نوفمبر","ديسمبر"]}},_="ar"):u={firstDayOfWeek:1,weekdays:{shorthand:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},months:{shorthand:["Янв","Фев","Март","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],longhand:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]}};e=document.querySelectorAll(".rent-single"),e[0]&&e.forEach(s=>{const n=s.querySelector(".rent-single__right-date_start");if(n){const l=s.querySelector(".rent-single__right-date_end"),c=s.querySelector(".rent-single__col-date_start"),i=s.querySelector(".rent-single__col-date_end");var t=s.querySelector(".rent-single__right-input input");flatpickr(t,{minDate:"today",mode:"range",inline:!0,dateFormat:"d.m.Y",locale:u,onChange:function(e,t,r){var a;e[0]&&(n.textContent=e[0].toLocaleDateString(_,p),c.textContent=e[0].toLocaleDateString(_),o.dataset.days=1),e[1]&&e[0]&&(l.textContent=e[0].toLocaleDateString(_,p),i.textContent=e[0].toLocaleDateString(_),l.textContent=e[1].toLocaleDateString(_,p),i.textContent=e[1].toLocaleDateString(_),a=new Date(e[0]),e=new Date(e[1]).getTime()-a.getTime(),a=Math.floor(e/864e5)+1,o.dataset.days=a),g(s)}});const o=s.querySelector(".rent-single__subitem")}const e=s.querySelector(".rent-single__mb-show");if(e){const a=s.querySelector(".rent-single__images");e.addEventListener("click",()=>{a.classList.contains("active")?(a.style.height="",e.textContent=e.dataset.textHide):(a.style.height=a.scrollHeight+"px",e.textContent=e.dataset.textDefault),a.classList.toggle("active")})}var t=s.querySelector(".rent-single__date"),t=(t&&(t=t.querySelector(".rent-single__date-input"),flatpickr(t,{minDate:"today",mode:"range",inline:!0,dateFormat:"d.m.Y",locale:u})),s.querySelectorAll(".rent-single__select")),t=(t[0]&&t.forEach(t=>{t.querySelector(".rent-single__select-current").addEventListener("click",e=>{y(e),t.classList.toggle("active")}),t.querySelector(".rent-single__select-close").addEventListener("click",e=>{y(e),t.classList.remove("active")})}),s.querySelectorAll(".rent-single__quantity")),t=(t[0]&&t.forEach(e=>{var t=e.querySelector(".rent-single__quantity-minus"),r=e.querySelector(".rent-single__quantity-plus");const a=e.querySelector(".rent-single__quantity-input input"),n=e.closest(".rent-single__select").querySelector(".rent-single__select-title"),o=JSON.parse(e.dataset.texts);function l(e){var t;n.textContent=e+" "+(e=e,(t=(t=o)||["товар","товара","товаров"])&&t[4<e%100&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]])}t.addEventListener("click",e=>{y(e);e=parseInt(a.value);e<=1?a.value=1:(e--,a.value=e),l(a.value)}),r.addEventListener("click",e=>{y(e);e=parseInt(a.value);e++,a.value=e,l(a.value)})}),s.querySelectorAll(".rent-single__rules")),t=(t[0]&&t.forEach(r=>{var e=r.querySelectorAll(".rent-single__rules-tab");const a=r.querySelectorAll(".rent-single__rules-content");e.forEach((e,t)=>{e.addEventListener("click",()=>{d(r,".rent-single__rules-tab.active","active"),d(r,".rent-single__rules-content.active","active"),e.classList.add("active"),a[t].classList.add("active")})})}),s.querySelector(".rent-single__floor"));t&&(r=t.querySelector(".swiper"),new Swiper(r,{slidesPerView:"auto",spaceBetween:18,navigation:{nextEl:t.querySelector(".swiper-button-next"),prevEl:t.querySelector(".swiper-button-prev")},mousewheel:{forceToAxis:!0}}));const o=s.querySelector(".rent-single__subitem");if(o){var r=o.closest(".rent-single__row"),t=s.querySelector(".rent-single__right-item");let e=r.offsetHeight-o.offsetHeight-parseInt(window.getComputedStyle(o).top);t&&(e=e-t.offsetHeight-parseInt(window.getComputedStyle(t).marginBottom)),ScrollTrigger.create({trigger:o,start:"top top",end:`+=${e}px`,pin:!0})}r=s.querySelectorAll(".rent-single__tabs");r[0]&&r.forEach(l=>{var e=l.querySelectorAll(".rent-single__tab-tops_price .rent-single__tab-top"),t=l.querySelectorAll(".rent-single__tab-tops_second .rent-single__tab-top");const c=l.querySelectorAll(".rent-single__day"),i=s.querySelector(".rent-single__right-item");e.forEach((n,o)=>{n.addEventListener("click",()=>{var e,t,r,a;d(l,".rent-single__tab-tops_price .rent-single__tab-top.active","active"),d(l,".rent-single__day.active","active"),n.classList.add("active"),c[o].classList.add("active"),i&&(i.querySelector(".rent-single__right-input input")._flatpickr,e=n.dataset.price,t=n.textContent,r=s.querySelector(".rent-single__subitem"),(a=s.querySelector(".rent-single__price")).querySelector("del"),a.querySelector("ins"),r.dataset.base=e,r.dataset.currency=t,r.dataset.days,g(s))})}),t[0]&&t.forEach((e,r)=>{e.addEventListener("click",()=>{d(l,".rent-single__tab-tops_second .rent-single__tab-top.active","active"),e.classList.add("active"),c.forEach(e=>{var t=e.querySelectorAll(".rent-single__day-seconds .rent-single__day-second");d(e,".rent-single__day-second.active","active"),t[r].classList.add("active")})})})})}),e=document.querySelectorAll(".buy-advs");e[0]&&e.forEach(e=>{var t=e.querySelector(".buy-advs__circle");ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",pin:t,pinSpacing:!1})});({el:document.querySelector(".btn-up"),show(){this.el.classList.remove("btn-up_hide")},hide(){this.el.classList.add("btn-up_hide")},addEventListener(){window.addEventListener("scroll",()=>{400<(window.scrollY||document.documentElement.scrollTop)?this.show():this.hide()}),document.querySelector(".btn-up").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();var e=document.querySelectorAll(".p-wrapper"),e=(e[0]&&e.forEach(e=>{var a=e,n=e.querySelector(".p-wrapper__inner"),o=e.querySelector(".scrollbar"),e=(n.addEventListener("scroll",function(e){o.style.height=a.clientHeight*n.clientHeight/n.scrollHeight-125+"px",o.style.top=a.clientHeight*n.scrollTop/n.scrollHeight+"px"}),new Event("scroll"));window.addEventListener("resize",n.dispatchEvent.bind(n,e)),n.dispatchEvent(e),o.addEventListener("mousedown",function(t){t.preventDefault();function e(e){e=e.pageY-t.pageY,o.style.top=Math.min(a.clientHeight-o.clientHeight,Math.max(0,r+e))+"px",n.scrollTop=n.scrollHeight*o.offsetTop/a.clientHeight}var r=o.offsetTop;document.addEventListener("mousemove",e),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",e)})})}),document.querySelectorAll(".rent")),e=(e[0]&&e.forEach(e=>{e.querySelectorAll(".rent__input_date").forEach(e=>{var t=e.querySelector("input");if(t){const r=flatpickr(t,{minDate:"today",dateFormat:"d.m.Y",locale:u,onChange:function(e,t,r){r=r.element;"start"===r.getAttribute("name")&&r.closest(".rent__form").querySelector('input[name="end"]')._flatpickr.set("minDate",t)},disableMobile:!0});e.querySelector(".rent__input-svg").addEventListener("click",()=>{r.toggle()})}})}),document.querySelectorAll(".modal_form")),e=(e[0]&&e.forEach(r=>{const a=r.querySelectorAll(".modal_register__changes .modal_register__change"),n=r.querySelectorAll(".modal_register__inputs .modal_register__inputs-item"),t=(a.forEach((e,t)=>{e.addEventListener("click",()=>{d(r,".modal_register__changes .modal_register__change.active","active"),d(r,".modal_register__inputs .modal_register__inputs-item.active","active"),(0===t?(a[1].classList.add("active"),n[1]):(a[0].classList.add("active"),n[0])).classList.add("active")})}),r.querySelectorAll(".modal_conf__items .modal_conf__item")),o=r.querySelector(".modal_conf__end-link");t[0]&&o.addEventListener("click",()=>{var e=o.dataset.index;d(r,".modal_conf__items .modal_conf__item.active","active"),"2"===e?(t[0].classList.add("active"),o.dataset.index=1):(t[1].classList.add("active"),o.dataset.index=2)})}),document.querySelector(".cabinet")),e=(e&&((t=e.querySelectorAll(".cabinet__change-label_date"))[0]&&t.forEach(e=>{e=e.querySelector("input");flatpickr(e,{dateFormat:"d.m.Y",locale:u})}),e.querySelector(".cabinet__card"))&&(t=e.querySelector('.cabinet__card-second input[name="term"]'),flatpickr(t,{dateFormat:"m/y",locale:u})),document.querySelectorAll(".modal_filter__range")),t=(e[0]&&e.forEach(e=>{var t,r,a,n=e.querySelector(".modal_filter__range-main"),o=parseFloat(e.dataset.min),l=parseFloat(e.dataset.max);let c=e.dataset.string;c?(c=JSON.parse(c),r=e.dataset.start,t=e.dataset.end,noUiSlider.create(n,{start:[r,t],range:{min:0,max:c.length-1},step:1,tooltips:!0,format:{to:function(e){return c[Math.round(e)]},from:function(e){return c.indexOf(e)}}})):(r=e.dataset.type,a=[e.querySelector('input[name*="min"]'),e.querySelector('input[name*="max"]')],r&&"int"===r?noUiSlider.create(n,{start:[o,l],step:1,range:{min:o,max:l},tooltips:{to:function(e){return e.toFixed(0)}}}):noUiSlider.create(n,{start:[o,l],range:{min:o,max:l},tooltips:!0}),n.noUiSlider.on("update",function(e,t){a[t].value=e[t]}))}),document.querySelectorAll(".modal_filter__item_change")),e=(t[0]&&t.forEach(r=>{var e=r.querySelectorAll(".p-checkboxes__item");const a=r.querySelectorAll(".modal_filter__range-content");e[0]&&e.forEach((e,t)=>{e.addEventListener("click",()=>{d(r,".modal_filter__range-content.active","active"),a[t].classList.add("active")})})}),document.querySelectorAll(".modal_filter__price-item_area")),t=(e[0]&&e.forEach(r=>{var e=r.querySelectorAll(".p-checkboxes__item");const a=r.querySelectorAll(".modal_filter__area-item");e[0]&&e.forEach((e,t)=>{e.addEventListener("click",()=>{d(r,".modal_filter__area-item.active","active"),a[t].classList.add("active")})})}),document.querySelector(".modal_filter")),e=(t&&t.closest("form").querySelector(".modal_filter__reset").addEventListener("click",()=>{var e=window.location;window.location.href=e.protocol+"//"+e.host+e.pathname}),document.querySelectorAll(".team")),t=(e[0]&&e.forEach(e=>{var r=e.querySelector(".team__text-items");let a=e.querySelector(".team__text-line .team__text-line-circle");var n=r.querySelectorAll(".team__text-item");if(1160<=window.innerWidth){let t=gsap.timeline({scrollTrigger:{trigger:e,start:"center center",pin:!0,scrub:1,end:"+=100%",ease:"power2",toggleActions:"play none none reverse",onUpdate:e=>{gsap.to(a,{top:100*e.progress.toFixed(2)+"%"})}}});n.forEach(e=>{t.fromTo(e,{opacity:0},{opacity:1})})}else{let t=gsap.timeline({scrollTrigger:{trigger:r.closest(".team__right"),start:"center center",pin:!0,scrub:1,end:"+="+r.clientHeight+"px",ease:"power2",toggleActions:"play none none reverse",onUpdate:e=>{gsap.to(a,{top:100*e.progress.toFixed(2)+"%"})}}});n.forEach(e=>{t.fromTo(e,{opacity:0},{opacity:1})})}}),document.querySelectorAll(".advs"));function r(s,e){s=gsap.utils.toArray(s);let t=(e=e||{}).onChange,r=0,d=gsap.timeline({repeat:e.repeat,onUpdate:t&&function(){var e=d.closestIndex();r!==e&&(r=e,t(s[e],e))},paused:e.paused,defaults:{ease:"none"},onReverseComplete:()=>d.totalTime(d.rawTime()+100*d.duration())}),o=s.length,l=s[0].offsetLeft,u=[],c=[],i=[],_=[],n=0,p=!1,a=e.center,g=100*(e.speed||1),y=!1===e.snap?e=>e:gsap.utils.snap(e.snap||1),m=0,v=!0!==a&&gsap.utils.toArray(a)[0]||s[0].parentNode,h,f=()=>{let r=v.getBoundingClientRect(),a;s.forEach((e,t)=>{c[t]=parseFloat(gsap.getProperty(e,"width","px")),_[t]=y(parseFloat(gsap.getProperty(e,"x","px"))/c[t]*100+gsap.getProperty(e,"xPercent")),a=e.getBoundingClientRect(),i[t]=a.left-(t?r.right:r.left),r=a}),gsap.set(s,{xPercent:e=>_[e]}),h=s[o-1].offsetLeft+_[o-1]/100*c[o-1]-l+i[0]+s[o-1].offsetWidth*gsap.getProperty(s[o-1],"scaleX")+(parseFloat(e.paddingRight)||0)},S,q=()=>{m=a?d.duration()*(v.offsetWidth/2)/h:0,a&&u.forEach((e,t)=>{u[t]=S(d.labels["label"+t]+d.duration()*c[t]/2/h-m)})},w=(e,t,r)=>{let a=e.length,n=1e10,o=0,l;for(;a--;)(l=(l=Math.abs(e[a]-t))>r/2?r-l:l)<n&&(n=l,o=a);return o},E=()=>{let e,t,r,a,n;for(d.clear(),e=0;e<o;e++)t=s[e],r=_[e]/100*c[e],n=(a=t.offsetLeft+r-l+i[0])+c[e]*gsap.getProperty(t,"scaleX"),d.to(t,{xPercent:y((r-n)/c[e]*100),duration:n/g},0).fromTo(t,{xPercent:y((r-n+h)/c[e]*100)},{xPercent:_[e],duration:(r-n+h-r)/g,immediateRender:!1},n/g).add("label"+e,a/g),u[e]=a/g;S=gsap.utils.wrap(0,d.duration())},b=e=>{var t=d.progress();d.progress(0,!0),f(),e&&E(),q(),e&&d.draggable?d.time(u[n],!0):d.progress(t,!0)},L;function x(e,t){t=t||{},Math.abs(e-n)>o/2&&(e+=e>n?-o:o);let r=gsap.utils.wrap(0,o,e),a=u[r];return a>d.time()!=e>n&&e!==n&&(a+=d.duration()*(e>n?1:-1)),(a<0||a>d.duration())&&(t.modifiers={time:S}),n=r,t.overwrite=!0,gsap.killTweensOf(L),0===t.duration?d.time(S(a)):d.tweenTo(a,t)}if(gsap.set(s,{x:0}),f(),E(),q(),window.addEventListener("resize",()=>b(!0)),d.toIndex=(e,t)=>x(e,t),d.closestIndex=e=>{var t=w(u,d.time(),d.duration());return e&&(n=t,p=!1),t},d.current=()=>p?d.closestIndex(!0):n,d.next=e=>x(d.current()+1,e),d.previous=e=>x(d.current()-1,e),d.times=u,d.progress(1,!0).progress(0,!0),e.reversed&&(d.vars.onReverseComplete(),d.reverse()),e.draggable&&"function"==typeof Draggable){L=document.createElement("div");let e=gsap.utils.wrap(0,1),o,l,t,c,i,r,a=()=>d.progress(e(l+(t.startX-t.x)*o)),n=()=>d.closestIndex(!0);"undefined"==typeof InertiaPlugin&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),t=Draggable.create(L,{trigger:s[0].parentNode,type:"x",onPressInit(){var e=this.x;gsap.killTweensOf(d),r=!d.paused(),d.pause(),l=d.progress(),b(),o=1/h,i=l/-o-e,gsap.set(L,{x:l/-o})},onDrag:a,onThrowUpdate:a,overshootTolerance:0,inertia:!0,snap(e){if(Math.abs(l/-o-this.x)<10)return c+i;let t=-(e*o)*d.duration(),r=S(t),a=u[w(u,r,d.duration())],n=a-r;return Math.abs(n)>d.duration()/2&&(n+=n<0?d.duration():-d.duration()),c=(t+n)/d.duration()/-o},onRelease(){n(),t.isThrowing&&(p=!0)},onThrowComplete:()=>{n(),r&&d.play()}})[0],d.draggable=t}return d.closestIndex(!0),r=n,t&&t(s[n],n),d}t[0]&&t.forEach(e=>{e=e.querySelector(".advs__items").querySelectorAll(".advs__item");let r=gsap.utils.toArray(e);r.forEach((e,t)=>{t!==r.length-1&&ScrollTrigger.create({trigger:e,start:()=>e.offsetHeight<window.innerHeight?"top top":"bottom bottom",end:"+="+e.offsetHeight,pin:!0,pinSpacing:!1})})});e=document.querySelectorAll(".appartments"),e[0]&&e.forEach(e=>{r(e.querySelectorAll(".appartments__item"),{repeat:-1,paused:!1,speed:1.5})}),t=document.querySelectorAll(".devs"),t[0]&&t.forEach(e=>{e.querySelectorAll(".devs__item").forEach(e=>{e.classList.contains("devs__item_reverse")?r(e.querySelectorAll("picture"),{repeat:-1,paused:!1,speed:1.2,reversed:!0}):r(e.querySelectorAll("picture"),{repeat:-1,paused:!1,speed:1.2})})}),e=document.querySelectorAll(".compar");function y(e){e.preventDefault(),e.stopPropagation()}function a(e){e.classList.remove("active")}e[0]&&e.forEach(e=>{e=e.querySelectorAll(".compar__item");e[0]&&e.forEach(e=>{e.querySelectorAll(".compar__subitem").forEach(e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:40,pagination:{clickable:!0,el:e.querySelector(".swiper-pagination")},mousewheel:{forceToAxis:!0}})})})});new class{constructor(){this.allModals(),this.allModalShows()}allModals(){document.querySelectorAll(".modal").forEach(t=>{function r(){var e;a(t),document.body.style.overflow="",e=new CustomEvent("pModalClose",{detail:{modal:t}}),document.dispatchEvent(e)}var e=t.querySelector(".modal__close"),e=(e&&e.addEventListener("click",()=>{r()}),t.querySelector(".modal__back"));e&&e.addEventListener("click",()=>{r()}),t.addEventListener("click",e=>{e.target==t&&r()})})}allModalShows(){document.querySelectorAll(".modal__show").forEach(t=>{t.addEventListener("click",e=>{y(e);e=t.getAttribute("data-modal"),e=document.querySelector(".modal_"+e),e.classList.add("active"),document.body.style.overflow="hidden",e=new CustomEvent("pModalOpen",{detail:{modal:e,element:t}});document.dispatchEvent(e)})})}},document.addEventListener("pModalOpen",e=>{var e=e.detail,t=e.element,e=e.modal;lazyContent.update(),lazyBackground.update(),e.classList.contains("modal_like_2")&&a(t.closest(".modal"))})});